import{a as y}from"./chunk-FFNTSLFQ.js";import{a as D}from"./chunk-2456SOC4.js";import{$ as v,A as b,D as i,E as C,F as S,G as _,M as P,N as w,X as x,aa as O,ba as m,ca as I,da as A,ea as N,fa as F,ga as E,ia as k,j as p,ja as j,l as g,q as a,r as M,s as c,t as f,u as s,w as o,x as r,y as h}from"./chunk-MBWRPWEI.js";var q=()=>({border:"1px solid green"}),L=()=>({border:"1px solid rgb(104, 98, 98)"});function z(e,n){e&1&&(o(0,"p",10),i(1,"*Email required"),r())}function U(e,n){e&1&&(o(0,"p",11),i(1,"*Please enter a valid email"),r())}function V(e,n){e&1&&(o(0,"p",10),i(1,"*Password required"),r())}function B(e,n){e&1&&(o(0,"p",11),i(1,"*Password must be at least 8 digits"),r())}var u=class e{login=!0;title="Login";description="Don't have an account? Create one ";wrongSubmit=!1;changeForm(){this.login===!0?(this.loginForm.reset(),this.title="Create Account",this.description="Already have an account? Login ",this.login=!1):(this.loginForm.reset(),this.title="Login",this.description="Don't have an account? Create one ",this.login=!0)}loginForm;router=g(x);ngOnInit(){this.loginForm=new N({email:new F("",[m.required,m.email]),password:new F("",[m.required,m.minLength(8)])}),this.usersService.userSubject.subscribe(n=>{n!==null&&this.router.navigate(["/home"])})}usersService=g(y);onSubmit(){if(this.loginForm.valid)this.login?(this.wrongSubmit=!1,this.usersService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe(n=>{console.log(n),this.usersService.userSubject.next(n),this.loginForm.reset()})):(this.wrongSubmit=!1,this.usersService.createUser(this.loginForm.value.email,this.loginForm.value.password).subscribe(()=>{this.loginForm.reset()}));else{this.wrongSubmit=!0;return}}static \u0275fac=function(l){return new(l||e)};static \u0275cmp=M({type:e,selectors:[["app-auth"]],standalone:!1,decls:22,vars:12,consts:[[1,"auth-form"],[3,"ngSubmit","ngStyle","formGroup"],[1,"title"],["type","email","placeholder","Put your Email here","formControlName","email"],["class","small-error",4,"ngIf"],["class","error",4,"ngIf"],["type","password","placeholder","Put your Password here","formControlName","password"],[3,"disabled"],[3,"click"],[1,"link"],[1,"small-error"],[1,"error"]],template:function(l,t){l&1&&(o(0,"div",0)(1,"form",1),b("ngSubmit",function(){return t.onSubmit()}),o(2,"p",2),i(3),r(),o(4,"p"),i(5,"Email:"),r(),h(6,"input",3),f(7,z,2,0,"p",4)(8,U,2,0,"p",5),o(9,"p"),i(10,"Password:"),r(),h(11,"input",6),f(12,V,2,0,"p",4)(13,B,2,0,"p",5),o(14,"button",7),i(15),r(),o(16,"a",8),b("click",function(){return t.changeForm()}),i(17),o(18,"span",9),i(19,"here"),r(),o(20,"span"),i(21,"!"),r()()()()),l&2&&(a(),s("ngStyle",t.loginForm.controls.email.valid&&t.loginForm.controls.password.valid?_(10,q):_(11,L))("formGroup",t.loginForm),a(2),C(t.title),a(4),s("ngIf",t.loginForm.controls.email.touched&&t.loginForm.controls.email.value===""),a(),s("ngIf",t.loginForm.controls.email.touched&&t.loginForm.controls.email.value!==""&&t.loginForm.controls.email.invalid),a(4),s("ngIf",t.loginForm.controls.password.touched&&t.loginForm.controls.password.value===""),a(),s("ngIf",t.loginForm.controls.password.touched&&t.loginForm.controls.password.value!==""&&t.loginForm.controls.password.invalid),a(),s("disabled",t.loginForm.invalid),a(),C(t.title),a(2),S(" ",t.description," "))},dependencies:[P,w,E,O,I,A,k,j],styles:['.auth-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.auth-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{border-radius:6%;padding:40px}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background-color:#2d2b2b;color:#fff;outline:none;height:40px;width:300px;padding:10px;font-size:16px}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid orange}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:block;margin-top:20px;margin-bottom:20px;background-color:orange;color:#000;border:none;border-radius:7px;height:40px;width:120px;cursor:pointer;font-weight:900}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{opacity:.8}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:hover:after{content:"Complete the form first!";position:absolute;bottom:-16px;left:80px;background-color:#000;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;white-space:nowrap}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed;opacity:.6}.auth-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#895c07;text-decoration:none}.title[_ngcontent-%COMP%]{font-weight:700;font-size:40px;margin-top:5px;margin-bottom:30px;color:orange}.link[_ngcontent-%COMP%]{text-decoration:underline}.small-error[_ngcontent-%COMP%]{color:#e3e319}.error[_ngcontent-%COMP%]{color:red}']})};var H=[{path:"",component:u}],d=class e{static \u0275fac=function(l){return new(l||e)};static \u0275mod=c({type:e});static \u0275inj=p({imports:[v.forChild(H),v]})};var G=class e{static \u0275fac=function(l){return new(l||e)};static \u0275mod=c({type:e});static \u0275inj=p({imports:[D,d]})};export{G as AuthModule};
